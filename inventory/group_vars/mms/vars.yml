---
# NFS mounts from TrueNAS
mms_nfs_server: 192.168.5.2
mms_nfs_mounts:
  - src: "{{ mms_nfs_server }}:/mnt/zpool0/media/movies"
    dest: /data/media/movies
    opts: "rw,hard,intr,_netdev,nfsvers=4"
  - src: "{{ mms_nfs_server }}:/mnt/zpool0/media/series"
    dest: /data/media/series
    opts: "rw,hard,intr,_netdev,nfsvers=4"
  - src: "{{ mms_nfs_server }}:/mnt/zpool0/media/music"
    dest: /data/media/music
    opts: "rw,hard,intr,_netdev,nfsvers=4"
  - src: "{{ mms_nfs_server }}:/mnt/zpool0/download/usenet"
    dest: /data/usenet
    opts: "rw,hard,intr,_netdev,nfsvers=4"
  - src: "{{ mms_nfs_server }}:/mnt/zpool0/photos"
    dest: /data/photos
    opts: "rw,hard,intr,_netdev,nfsvers=4"
  - src: "{{ mms_nfs_server }}:/mnt/zpool0/media/recordings"
    dest: /data/recordings
    opts: "rw,hard,intr,_netdev,nfsvers=4"

# Services to deploy (matches filenames in services/)
mms_services:
  - prowlarr
  - radarr
  - sonarr
  - lidarr
  - sabnzbd
  - jellyfin
  - channels
  - navidrome

# Traefik reverse proxy (mms_traefik_domain is in group_vars/all)
mms_traefik_routes:
  prowlarr:
    subdomain: prowlarr
    container: prowlarr
    port: 9696
  radarr:
    subdomain: radarr
    container: radarr
    port: 7878
  sonarr:
    subdomain: sonarr
    container: sonarr
    port: 8989
  lidarr:
    subdomain: lidarr
    container: lidarr
    port: 8686
  sabnzbd:
    subdomain: sabnzbd
    container: sabnzbd
    port: 8080
  jellyfin:
    subdomain: jellyfin
    container: jellyfin
    port: 8096
  immich:
    subdomain: immich
    container: immich-server
    port: 2283
  channels:
    subdomain: channels
    container: channels
    port: 8089
  navidrome:
    subdomain: navidrome
    container: navidrome
    port: 4533

# Auto-deploy repository URL
mms_autodeploy_repo_url: "git@github.com:randomparity/max-media-stack.git"

# Auto-deploy groups â€” per-group schedules for service deployment
autodeploy_groups:
  backend:
    schedule: "*-*-* *:00/30:00"
    services:
      - prowlarr
      - radarr
      - sonarr
      - lidarr
      - sabnzbd
      - traefik
  interactive:
    schedule: "*-*-* 02:00:00"
    services:
      - jellyfin
      - immich
      - channels
      - navidrome
